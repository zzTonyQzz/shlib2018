{"version":3,"sources":["webpack:///./src/page/recommendedPastDefault.vue?9d2c","webpack:///./src/page/recommendedPastDefault.vue","webpack:///./src/page/recommendedPastDefault.vue?6ef4","webpack:///src/page/recommendedPastDefault.vue","webpack:///./src/page/recommendedPastDefault.vue?ec19"],"names":[],"mappings":";;;;;;AAAA;;AAEA;AACA,wCAAqN;AACrN;AACA;AACA;AACA,sEAAiH,E;;;;;;;;;;;;ACPjH;AAAA;AACA,4BAA2L;AAC3L;AACA;AACA;AACA;AACA;AACA;AAC8Q;AAC9Q;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;;;;;;;AC1BA;AACA;;;AAGA;AACA,gDAAiD,sBAAsB,eAAe,0BAA0B,kBAAkB,gCAAgC,iBAAiB,YAAY,yCAAyC,0BAA0B,iBAAiB,aAAa,4BAA4B,qBAAqB,qBAAqB,WAAW,YAAY,WAAW,yCAAyC,4BAA4B,iBAAiB,aAAa,kCAAkC,kBAAkB,WAAW,eAAe,WAAW,kBAAkB,gBAAgB,uBAAuB,mBAAmB,yCAAyC,kCAAkC,cAAc,gBAAgB,8BAA8B,qBAAqB,WAAW,mBAAmB,kBAAkB,eAAe,WAAW,SAAS,gBAAgB,uBAAuB,mBAAmB,qCAAqC,cAAc,mBAAmB,yCAAyC,8BAA8B,gBAAgB,gBAAgB,yBAAyB,gBAAgB,yCAAyC,yBAAyB,cAAc,oBAAoB,gBAAgB;;AAEnwC;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;ACmBA,kB,CAAA;;oBAEA;AACA,kCADA;;AAGA,QAHA,kBAGA;AACA;AACA,2BADA;AAEA,oBAFA,EAEA;AACA,uBAHA,EAGA;AACA,eAJA;AAKA,oBALA;AAMA,qBANA;AAOA;AACA;AARA;AAUA,KAdA;AAgBA,WAhBA,qBAgBA;AACA;AACA,KAlBA;;;AAoBA;AACA;AADA,KApBA;;AAwBA,gBAxBA;;AA0BA,WA1BA,qBA0BA;AACA;AACA,KA5BA;;;AA8BA;AACA,gBADA,sBACA,KADA,EACA;AAAA;AACA;AACA;AACA;AACA,OALA;AAMA,cANA,oBAMA,KANA,EAMA;AAAA;AACA;AACA;AACA;AACA,SAHA,MAGA;AACA;AACA;AACA;AACA;AACA;AACA,OAhBA;AAiBA,iBAjBA,uBAiBA,KAjBA,EAiBA;AAAA;AACA;AACA,OAnBA;AAoBA,oBApBA,4BAoBA;AAAA;;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,gDAPA,CAOA;AACA;AACA,SATA,EASA,KATA,CASA;AACA;AACA;AACA;AACA;AACA,aAHA,EAGA,GAHA;AAIA;AACA,SAhBA;AAiBA;AAvCA;AA9BA,G;;;;;;;;;;AC5BA,0BAA0B,aAAa,0BAA0B,wBAAwB,iBAAiB,wBAAwB,qBAAqB,OAAO,gCAAgC,iCAAiC,mBAAmB,4CAA4C,gBAAgB,UAAU,oBAAoB,OAAO,MAAM,gEAAgE,aAAa,mBAAmB,kHAAkH,2BAA2B,qBAAqB,mBAAmB,OAAO,yCAAyC,KAAK,8BAA8B,kCAAkC,OAAO,4DAA4D,KAAK,0BAA0B;AACr0B;AACA,iBAAiB;AACjB,kE","file":"static\\js\\18.f375ec3ed3ac2bea9f9f.js","sourcesContent":["// style-loader: Adds some css to the DOM by adding a <style> tag\n\n// load the styles\nvar content = require(\"!!../../node_modules/css-loader/index.js?minimize!../../node_modules/vue-loader/lib/style-compiler/index.js?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-2d96b3c6\\\",\\\"scoped\\\":true,\\\"hasInlineConfig\\\":true}!../../node_modules/less-loader/dist/cjs.js!../../node_modules/vue-loader/lib/selector.js?type=styles&index=0!./recommendedPastDefault.vue\");\nif(typeof content === 'string') content = [[module.id, content, '']];\nif(content.locals) module.exports = content.locals;\n// add the styles to the DOM\nvar update = require(\"!../../node_modules/vue-style-loader/lib/addStylesClient.js\")(\"064a07cc\", content, true, {});\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/vue-style-loader!./node_modules/css-loader?minimize!./node_modules/vue-loader/lib/style-compiler?{\"vue\":true,\"id\":\"data-v-2d96b3c6\",\"scoped\":true,\"hasInlineConfig\":true}!./node_modules/less-loader/dist/cjs.js!./node_modules/vue-loader/lib/selector.js?type=styles&index=0!./src/page/recommendedPastDefault.vue\n// module id = /f9N\n// module chunks = 18","function injectStyle (ssrContext) {\n  require(\"!!vue-style-loader!css-loader?minimize!../../node_modules/vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-2d96b3c6\\\",\\\"scoped\\\":true,\\\"hasInlineConfig\\\":true}!less-loader!../../node_modules/vue-loader/lib/selector?type=styles&index=0!./recommendedPastDefault.vue\")\n}\nvar normalizeComponent = require(\"!../../node_modules/vue-loader/lib/component-normalizer\")\n/* script */\nexport * from \"!!babel-loader!../../node_modules/vue-loader/lib/selector?type=script&index=0!./recommendedPastDefault.vue\"\nimport __vue_script__ from \"!!babel-loader!../../node_modules/vue-loader/lib/selector?type=script&index=0!./recommendedPastDefault.vue\"\n/* template */\nimport __vue_template__ from \"!!../../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-2d96b3c6\\\",\\\"hasScoped\\\":true,\\\"transformToRequire\\\":{\\\"video\\\":\\\"src\\\",\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"},\\\"buble\\\":{\\\"transforms\\\":{}}}!../../node_modules/vue-loader/lib/selector?type=template&index=0!./recommendedPastDefault.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = \"data-v-2d96b3c6\"\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/page/recommendedPastDefault.vue\n// module id = CAH6\n// module chunks = 18","exports = module.exports = require(\"../../node_modules/css-loader/lib/css-base.js\")(false);\n// imports\n\n\n// module\nexports.push([module.id, \".list[data-v-2d96b3c6]{box-sizing:border-box;padding-left:0}.list li[data-v-2d96b3c6]{position:relative;border-bottom:1px solid #e0e5e8;line-height:60px;height:60px}@media only screen and (max-width:767px){.list li[data-v-2d96b3c6]{line-height:40px;height:40px}}.list li a[data-v-2d96b3c6]{display:inline-block;text-decoration:none;width:100%;height:60px;color:#666}@media only screen and (max-width:767px){.list li a[data-v-2d96b3c6]{line-height:40px;height:40px}}.list li a .unit[data-v-2d96b3c6]{position:absolute;width:85px;font-size:16px;color:#666;text-align:center;overflow:hidden;text-overflow:ellipsis;white-space:nowrap}@media only screen and (max-width:767px){.list li a .unit[data-v-2d96b3c6]{color:#4474ac;font-size:14px}}.list li a p[data-v-2d96b3c6]{display:inline-block;width:100%;padding-right:20px;padding-left:85px;font-size:16px;color:#666;margin:0;overflow:hidden;text-overflow:ellipsis;white-space:nowrap}.list li a p[data-v-2d96b3c6]:before{content:\\\"|\\\";padding-right:10px}@media only screen and (max-width:767px){.list li a p[data-v-2d96b3c6]{padding-right:0;font-size:14px}}.paging[data-v-2d96b3c6]{margin-top:60px}@media only screen and (max-width:767px){.paging[data-v-2d96b3c6]{display:none}}li[data-v-2d96b3c6]{list-style:none}\", \"\"]);\n\n// exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/css-loader?minimize!./node_modules/vue-loader/lib/style-compiler?{\"vue\":true,\"id\":\"data-v-2d96b3c6\",\"scoped\":true,\"hasInlineConfig\":true}!./node_modules/less-loader/dist/cjs.js!./node_modules/vue-loader/lib/selector.js?type=styles&index=0!./src/page/recommendedPastDefault.vue\n// module id = GO0Q\n// module chunks = 18","<!-- 每周推荐查看往期 -->\r\n<template>\r\n  <div class=\"container\">\r\n    <column-title :column-title=\"weeklyTitle\"></column-title>\r\n    <div>\r\n      <ul class=\"list\">\r\n        <li v-for=\"(item,index) in pastList\" :key=\"index\">\r\n          <router-link :to=\"{path: `/eBook/recommendedPast/recommended?sid=${item.v2}`}\">\r\n            <span class=\"unit\">\r\n              第{{item.v2}}期\r\n            </span>\r\n            <p>{{item.v3}}</p>\r\n          </router-link>\r\n        </li>\r\n      </ul>\r\n    </div>\r\n    <div class=\"paging\">\r\n      <pagination @page-change=\"pageChange\" :total=\"totalNumb\" :current=\"curr\"></pagination>\r\n    </div>\r\n    <load-more @more-data=\"loadMore\" :current=\"curr\" :total=\"totalNumb\" :load=\"loading\"></load-more>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport loadMore from '../components/loadMore';\r\nimport { resommended } from \"../server/api\";\r\nlet self = null; // 自定义变量存储实例this\r\n\r\nexport default {\r\n  name: \"recommendedPastDefault\",\r\n\r\n  data () {\r\n    return {\r\n      weeklyTitle: \"每周推荐\",\r\n      pastList: [],   // 页面显示数据\r\n      allPastList: [],  // 缓存所有数据，接口没有分页，一次获取所有数据\r\n      curr: 1,\r\n      totalNumb: 0,\r\n      loading: true,\r\n      perPage: 30,\r\n      // maxId: 0 // 最新一季id\r\n    };\r\n  },\r\n\r\n  created () {\r\n    self = this;\r\n  },\r\n\r\n  components: {\r\n    loadMore\r\n  },\r\n\r\n  computed: {},\r\n\r\n  mounted () {\r\n    this.getAllPastList();\r\n  },\r\n\r\n  methods: {\r\n    pageChange (index) {  // pc换页\r\n      this.curr = index;\r\n      this.pastList = this.getPastList(index);\r\n      window.scrollTo(0,0);\r\n    },\r\n    loadMore (index) {  // 手机加载更多\r\n      if (this.curr >= this.totalNumb) {\r\n        return;\r\n        // this.pastList = this.pastList.concat([]);\r\n      } else {\r\n        this.curr = index;\r\n        // this.loading = true;\r\n        this.pastList = this.pastList.concat(this.getPastList(index));\r\n        // this.loading = false;\r\n      }\r\n    },\r\n    getPastList (index) { // 分页获取列表\r\n      return this.allPastList.slice((index - 1) * this.perPage, index * this.perPage);\r\n    },\r\n    getAllPastList () {   // 获取所有数据(接口没有分页)\r\n      this.loading = true;\r\n      resommended.getWeeklyPastList().then((data) => {\r\n        this.allPastList = data.result.datas;\r\n        if (!this.allPastList.length) {\r\n          return;\r\n          //this.maxId = this.allPastList[0].v2;\r\n        }\r\n        this.totalNumb = Math.ceil(this.allPastList.length / this.perPage);\r\n        this.pastList = this.getPastList(1);  // 初始化第一页数据\r\n        this.loading = false;\r\n      }).catch((error) => {\r\n        if (error === '10001') {\r\n          let t = setTimeout(() => {\r\n            this.getAllPastList();\r\n            clearTimeout(t);\r\n          }, 500);\r\n        }\r\n      });\r\n    }\r\n  }\r\n}\r\n\r\n</script>\r\n<style lang=\"less\" scoped>\r\n.list {\r\n  box-sizing: border-box;\r\n  padding-left: 0;\r\n  // li:first-child {\r\n  //   border-top: 1px solid #E0E5E8;\r\n  // }\r\n  li {\r\n    position: relative;\r\n    // border-top: 1px solid #E0E5E8;\r\n    border-bottom: 1px solid #E0E5E8;\r\n    line-height: 60px;\r\n    height: 60px;\r\n    @media only screen and (max-width: 767px) {\r\n      line-height: 40px;\r\n      height: 40px;\r\n    }\r\n    a {\r\n      display: inline-block;\r\n      text-decoration: none;\r\n      width: 100%;\r\n      height: 60px;\r\n      color: #666666;\r\n      @media only screen and (max-width: 767px) {\r\n        line-height: 40px;\r\n        height: 40px;\r\n      }\r\n      .unit {\r\n        position: absolute;\r\n        width: 85px;\r\n        font-size: 16px;\r\n        color: #666666;\r\n        text-align: center;\r\n        overflow: hidden;\r\n        text-overflow: ellipsis;\r\n        white-space: nowrap;\r\n        @media only screen and (max-width: 767px) {\r\n          color: #4474AC;\r\n          font-size: 14px;\r\n        }\r\n        }\r\n      p {\r\n        display: inline-block;\r\n        width: 100%;\r\n        padding-right: 20px;\r\n        padding-left: 85px;\r\n        font-size: 16px;\r\n        color: #666666;\r\n        margin: 0;\r\n        overflow: hidden;\r\n        text-overflow: ellipsis;\r\n        white-space: nowrap;\r\n        &:before {\r\n          content: '|';\r\n          padding-right: 10px;\r\n        }\r\n        @media only screen and (max-width: 767px) {\r\n          padding-right: 0;\r\n          font-size: 14px;\r\n        }\r\n      }\r\n      \r\n    }\r\n  }\r\n}\r\n.paging {\r\n  // text-align: center;\r\n  margin-top: 60px;\r\n  // >div{\r\n  //   display: inline-block;\r\n  // }\r\n  @media only screen and (max-width: 767px) {\r\n    display: none;\r\n  }\r\n}\r\nli {\r\n  list-style: none;\r\n}\r\n</style>\n\n\n// WEBPACK FOOTER //\n// src/page/recommendedPastDefault.vue","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"container\"},[_c('column-title',{attrs:{\"column-title\":_vm.weeklyTitle}}),_vm._v(\" \"),_c('div',[_c('ul',{staticClass:\"list\"},_vm._l((_vm.pastList),function(item,index){return _c('li',{key:index},[_c('router-link',{attrs:{\"to\":{path: (\"/eBook/recommendedPast/recommended?sid=\" + (item.v2))}}},[_c('span',{staticClass:\"unit\"},[_vm._v(\"\\n            第\"+_vm._s(item.v2)+\"期\\n          \")]),_vm._v(\" \"),_c('p',[_vm._v(_vm._s(item.v3))])])],1)}))]),_vm._v(\" \"),_c('div',{staticClass:\"paging\"},[_c('pagination',{attrs:{\"total\":_vm.totalNumb,\"current\":_vm.curr},on:{\"page-change\":_vm.pageChange}})],1),_vm._v(\" \"),_c('load-more',{attrs:{\"current\":_vm.curr,\"total\":_vm.totalNumb,\"load\":_vm.loading},on:{\"more-data\":_vm.loadMore}})],1)}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-2d96b3c6\",\"hasScoped\":true,\"transformToRequire\":{\"video\":\"src\",\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/page/recommendedPastDefault.vue\n// module id = lyRZ\n// module chunks = 18"],"sourceRoot":""}